<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
  <meta name="description" content="Gaming with other people. Games you've never seen before." />
  <title>GGP.org Human vs Human Matches</title>
  <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Droid+Sans:bold">
  <link rel="stylesheet" type="text/css" href="/hosting/artemis.css" />
  <script type='text/javascript' src='//www.ggp.org/scripts/Analytics.js'></script>
  <script type='text/javascript' src='/_ah/channel/jsapi'></script>
  <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js"></script>  
</head>
<body onload="spectatorView.render()" onresize="spectatorView.render()">
  <script type="text/javascript" src="//www.ggp.org/scripts/common/compulog.js"></script>
  <script type="text/javascript" src="//www.ggp.org/scripts/common/AJAXSLT.js"></script>
  <script type="text/javascript" src="//www.ggp.org/scripts/common/UserInterface.js"></script>
  <script type="text/javascript" src="//www.ggp.org/scripts/common/ResourceLoader.js"></script>
  <script type="text/javascript" src="//www.ggp.org/scripts/common/StateRenderer.js"></script> 
  <script type="text/javascript" src="//www.ggp.org/scripts/common/StateMachine.js"></script>
  <script type="text/javascript" src="//www.ggp.org/scripts/common/SymbolList.js"></script>
  <script type='text/javascript' src='//www.ggp.org/scripts/common/SpectatorView.js'></script> 
  <script type='text/javascript' src='//database.ggp.org/subscribe/channel.js'></script>

  <div style="float: left; margin: 0; height: 90%; width: 20%">
    <div id="sidePanel" style="padding: 10px; width: 100%; height: 100%">
      <h1>GGP.org</h1>
      <h2>Human vs Human Matches</h2>
      <br>
      <div id='status_div'>You are viewing an <b>ongoing</b> match.</div>
      <br>
      <div id='info_div'></div>
      <br>
      <div id='desc_div'><i>Unfortunately, this game doesn't yet have a human-readable description of its rules written up.</i></div>
    </div>
  </div>
  <div style="float: left; margin-left: 1%; margin-top: 1%; height: 89%; width:79%;">
    <center style="width: 100%; height: 100%">
      <div id='spectator_div' style="width: 100%; height: 100%"></div>
    </center>
  </div>

  <script type='text/javascript' language='javascript'>
    var spectator_callbacks = {
      "info": function(info_response) {
        if (info_response.description != null) {
          document.getElementById('desc_div').innerHTML = '<b>Game Description:</b> ' + info_response.description;
        }       
      },
      "done": function() {
        document.getElementById('status_div').innerHTML = 'You are viewing a <b>completed</b> match.';
      }
    };

    var matchURL = 'http://matches.ggp.org/matches/' + window.location.pathname.split("/")[3] + '/';
    spectatorView = SpectatorView.construct(matchURL, document.getElementById('spectator_div'), spectator_callbacks);
    spectatorView.getHeight = function() { return (window.innerHeight - 20) * 0.9; };
    spectatorView.getWidth = function() { return (window.innerWidth - document.getElementById('sidePanel').clientWidth - 20) * 0.9; };    

    spectatorHTML = '<b>Spectator view:</b> <a href=\"' + matchURL + 'viz.html\">here</a>.';
    document.getElementById('info_div').innerHTML = spectatorHTML;

    spectatorView.render();    
  </script>  
</body>
</html>