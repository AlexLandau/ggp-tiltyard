<html>
  <head>
    <title>GGP Apollo Server</title>
    <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Droid+Sans:bold">
    <link rel="stylesheet" type="text/css" href="/apollo.css" />
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js"></script>
    <script type='text/javascript' src='//www.ggp.org/scripts/Analytics.js'></script>
  </head>
  <body>
    <script type='text/javascript' src='//www.ggp.org/scripts/common/ResourceLoader.js'></script>
    <script type='text/javascript' src='//www.ggp.org/scripts/common/UserInterface.js'></script>
    <script type="text/javascript" src="/apolloHeader.js"></script>
  
    <div id='header'></div>
    <br>
    <center>
    <div id='gameList'></div>
    </center>

    <script type='text/javascript'>
      generateHeader(document.getElementById('header'));      

      var toProperString = function (x) {
        if (x <= 0) return "Zero";
        if (x == 1) return "One";
        if (x == 2) return "Two";
        if (x == 3) return "Three";
        if (x == 4) return "Four";
        if (x == 5) return "Five";
        if (x == 6) return "Six";
        if (x == 7) return "Seven";
        if (x == 8) return "Eight";
        if (x == 9) return "Nine";
        return "10+";
      }

      function drawGameList() {
        var theGames = ResourceLoader.load_json('/data/games/');
        var gameListHTML = '<table class="matchlist" cellpadding=5px border=1px>';
        gameListHTML += '<tr><th>Game Name</th><th>Players</th><th>Has Description?</th></tr>';
        for (var i in theGames) {
          gameListHTML += '<tr><td><a href="/games/' + translateRepositoryIntoCodename(theGames[i].gameMetaURL) + '">' + theGames[i].metadata.gameName + '</a></td>';
          gameListHTML += '<td>' + toProperString(theGames[i].metadata.numRoles) + '</td>';
          gameListHTML += '<td>' + ("description" in theGames[i].metadata ? "Yes" : "No") + '</td></tr>';
        }
        gameListHTML += "</table>"
        document.getElementById('gameList').innerHTML = gameListHTML;
      }
      
      drawGameList();
    </script>
  </body>  
</html>